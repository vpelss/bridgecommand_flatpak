{
  "id" : "org.flathub.Bridgecommand",
  "runtime" : "org.freedesktop.Platform",
  "runtime-version" : "23.08",
  "runtime-commit" : "cb2bd72f6b227a6ef91c194b21880d95bee4e198c4ab7cb0fa7bea30649338ae",
  "sdk" : "org.freedesktop.Sdk",
  "sdk-commit" : "410bebaffd2d604cd00ee80ee597bc889b0a6b015a850290d64b4c13c68eedde",
  "command" : "wrapperBridgecommand",
  "modules" : [
    {
      "name" : "portaudio",
      "buildsystem" : "cmake",
      "sources" : [
        {
          "url" : "https://github.com/PortAudio/portaudio.git",
          "commit" : "242a0241f69bd359b692004f3974ce39ec5137fd",
          "type" : "git"
        }
      ]
    },
    {
      "name" : "OpenXR",
      "buildsystem" : "cmake",
      "sources" : [
        {
          "url" : "https://github.com/KhronosGroup/OpenXR-SDK.git",
          "commit" : "67cfb6a4bc5496451efcf5d35af017f4f1761648",
          "type" : "git"
        }
      ]
    },
    {
      "name" : "bc",
      "buildsystem" : "simple",
      "sources" : [
        {
          "url" : "https://github.com/bridgecommand/bc.git",
          "commit" : "90b78ad886ab889e2e216583d97c7f181c727c4f",
          "type" : "git"
        }
      ],
      "build-commands" : [
        "mkdir /app/bin",
        "cmake -Bbin -Ssrc",
        "make -C bin",
        "cp -r /run/build/bc/bin/* ${FLATPAK_DEST}/bin"
      ]
    },
    {
      "name" : "wrapperBridgecommand",
      "buildsystem" : "simple",
      "sources" : [
        {
          "commands" : [
            "cd /app/bin",
            "./bridgecommand"
          ],
          "dest-filename" : "wrapperbc.sh",
          "type" : "script"
        }
      ],
      "build-commands" : [
        "install -Dm755 wrapperbc.sh /app/bin/wrapperBridgecommand"
      ]
    }
  ],
  "cleanup" : [
    "${FLATPAK_DEST}/bin/controller/libs/aisparser",
    "${FLATPAK_DEST}/bin/libs"
  ],
  "finish-args" : [
    "--socket=x11",
    "--share=ipc",
    "--device=dri",
    "--share=network",
    "--persist=.",
    "--socket=pulseaudio"
  ]
}